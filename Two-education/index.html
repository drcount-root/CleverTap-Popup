<!DOCTYPE html>
<html>
  <head>
    <title> </title>
  </head>
  <body class="main_container" onload="myFunction()">
    <div id="actionTaken"></div>
    <div id="heading"></div>
    <div id="content"></div>
    <div id="buttons"></div>
  </body>

  <script>
    const mockApiData = {
      status: 1,
      code: 1000,
      msg: "Success.",
      data: {
        headingText: "Heading Text",
        subHeadingText: "Sub Heading Text",
        button: [
          {
            text: "Yes",
            target: {
              id: "0",
              type: "confirm",
              url: "",
            },
          },
          {
            text: "No",
            target: {
              id: "0",
              type: "reject",
              url: "",
            },
          },
        ],
        verificationData: [
          {
            id: 12,
            header: "Education 01",
            details: [
              {
                identifier: "degree",
                title: "degree",
                value: "MBBS",
              },
              {
                identifier: "level_of_degree",
                title: "level_of_degree",
                value: "Add Level of Degree",
              },
              {
                identifier: "institute",
                title: "institute",
                value: "Universitas Abdurrab Fakultas",
              },
              {
                identifier: "year_of_complition",
                title: "year_of_complition",
                value: "2012 - 2016",
              },
            ],
          },
          {
            id: 13,
            header: "",
            details: [
              {
                identifier: "degree",
                title: "degree",
                value: "",
              },
              {
                identifier: "level_of_degree",
                title: "level_of_degree",
                value: "Bachelor's",
              },
              {
                identifier: "institute",
                title: "institute",
                value: "ABC University",
              },
              {
                identifier: "year_of_completion",
                title: "year_of_completion",
                value: "2014 - 2018",
              },
            ],
          },
          {
            id: 14,
            header: "Education 03",
            details: [
              {
                identifier: "degree",
                title: "degree",
                value: "MBA",
              },
              {
                identifier: "level_of_degree",
                title: "level_of_degree",
                value: "Master's",
              },
              {
                identifier: "institute",
                title: "institute",
                value: "",
              },
              {
                identifier: "year_of_completion",
                title: "year_of_completion",
                value: "201X - 201X",
              },
            ],
          },
          {
            id: 15,
            header: "Education 04",
            details: [
              {
                identifier: "degree",
                title: "degree",
                value: "PhD in Psychology",
              },
              {
                identifier: "level_of_degree",
                title: "level_of_degree",
                value: "Doctorate",
              },
              {
                identifier: "institute",
                title: "institute",
                value: "University of ABC",
              },
              {
                identifier: "year_of_completion",
                title: "year_of_completion",
                value: "2015 - 2020",
              },
            ],
          },
          {
            id: 16,
            header: "Education 05",
            details: [
              {
                identifier: "degree",
                title: "degree",
                value: "Bachelor of Arts",
              },
              {
                identifier: "level_of_degree",
                title: "level_of_degree",
                value: "Bachelor's",
              },
              {
                identifier: "institute",
                title: "institute",
                value: "University of XYZ",
              },
              {
                identifier: "year_of_completion",
                title: "year_of_completion",
                value: "2010 - 2014",
              },
            ],
          },
        ],
      },
      error: null,
      action: null,
      tooltips: [],
    };

    // buttons functionalities

    // type: yes
    const yesButtonClicked = () => {
      console.log("Yes button clicked!");
    };

    // type: no
    const noButtonClicked = () => {
      console.log("No button clicked!");
    };

    // executes on page load
    const myFunction = function () {
      const response = mockApiData.data;
      //   console.log(response);

      //   heading
      document.getElementById(
        "heading"
      ).innerHTML = `<h3>${response.headingText}</h3>`;

      //   buttons
      document.getElementById(
        "buttons"
      ).innerHTML = `<button onclick='yesButtonClicked()'>${
        response.button[0].target.type == "confirm"
          ? response.button[0].text
          : ""
      }</button><button onclick='noButtonClicked()'>${
        response.button[1].target.type == "reject"
          ? response.button[1].text
          : ""
      }</button>`;

      //   contents
      response.verificationData.forEach((item) => {
        document.getElementById("content").innerHTML += `<p>${item.header}</p>`;

        if (item.header != "") {
          item.details.forEach((i) => {
            // console.log(i.value);
            if (i.value) {
              document.getElementById(
                "content"
              ).innerHTML += `<span>${i.identifier}</span> : <span>${i.value}</span><br>`;
            }
          });
        }
      });
    };
  </script>
</html>
